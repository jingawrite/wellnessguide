# 콘텐츠 마케팅 캠프 어드민 - 프론트 화면 요건 정의

## 전제 조건

**캠프 유형은 Brown이 입력한 내용대로 분류**
- 유형을 코드로 고정하기보다, Brown이 입력하는 문자열/태그를 기준으로 분류
- 캠프 생성/수정 폼에서 캠프유형 입력 시:
  - 지금까지 사용된 유형 값 자동완성(드롭다운)
  - 새로운 문자열도 그대로 저장 가능
- 통계/필터는 이 값을 그대로 사용

---

## 1. 대시보드 화면 (`/admin/dashboard`)

### 목표
오늘/이번 주 기준으로 Brown이 봐야 할 것 한눈에 파악

### 화면 구성

#### 상단 요약 카드 영역
- **오늘 진행 세션 수**
  - 오늘 날짜 기준 `CampSessions.session_date`가 오늘인 세션 개수
  - 클릭 시 → 오늘 일정 리스트로 스크롤
- **이번 주 세션 수**
  - 이번 주(월~일) 기준 세션 개수
- **미제출 과제 건수**
  - `Submissions.status = '미제출'`이고 마감일이 지나지 않은 건수
- **피드백 미완료 건수**
  - `Submissions` 중 `Feedbacks`가 없거나 `Feedbacks.is_sent = FALSE`인 건수
- **진행중 캠프 수**
  - `Camps.status = '진행중'`인 캠프 개수

#### 오늘 일정 리스트
- **테이블 컬럼**
  - 캠프명 (`Camps.name`)
  - 학교/기업명 (`Camps.client_name`)
  - 시간 (`CampSessions.session_date`)
  - 주차 (`CampSessions.week_no`)
  - 세션명 (`CampSessions.title`)
  - 모드 (`CampSessions.mode`: 온라인/오프라인/하이브리드)
  - 장소/링크 (`CampSessions.location`)
  - 행 클릭 시 → 세션 상세 화면으로 이동

#### 알림 영역
- **D-1 공지 미발송 알림**
  - 내일 진행 예정인 세션 중 `Announcements`에 D-1 공지가 없는 세션 리스트
  - 각 항목 옆에 "공지 생성" 버튼
- **피드백 미완료 비율 높은 캠프**
  - 이번 주 마감 과제 중 피드백 미완료 비율이 50% 이상인 캠프 리스트
  - 캠프명, 미완료 비율, 링크

#### 필터 영역
- **캠프 유형** (텍스트 기반 검색/필터)
  - 드롭다운: 지금까지 사용된 유형 목록 표시
  - 자유 입력 가능 (새로운 유형 입력 시)
- **캠프** 지정
  - 드롭다운: 진행중/준비중 캠프 목록
- **기간** 지정
  - 주 단위 선택: 이번 주 / 다음 주 / 2주 후
  - 월 단위 선택: 이번 달 / 다음 달

---

## 2. 캠프 리스트 화면 (`/admin/camps`)

### 목표
캠프 전체를 관리/검색

### 화면 구성

#### 테이블 컬럼
- **캠프명** (`Camps.name`)
- **캠프유형** (`Camps.type` - 텍스트, 검색/필터 가능)
- **클라이언트명** (`Camps.client_name`)
- **기간** (`Camps.start_date` ~ `Camps.end_date`)
- **상태** (`Camps.status`: 준비중 / 진행중 / 종료)
- **멘티 수** (해당 캠프의 `CampMentees` 개수)
- **액션** (수정 / 삭제 / 상세보기)

#### 기능
- **캠프 생성 버튼**
  - 클릭 시 → 캠프 생성 모달/페이지
- **캠프 수정**
  - 행의 "수정" 버튼 클릭 시 → 캠프 수정 모달/페이지
- **캠프유형 입력**
  - 자동완성: 지금까지 Brown이 입력했던 값들 목록 제안
  - 새로운 문자열도 그대로 저장 가능
- **검색**
  - 캠프명/학교명/유형으로 검색
  - 실시간 검색 또는 검색 버튼 클릭
- **필터**
  - 상태별 필터 (준비중 / 진행중 / 종료)
  - 캠프 유형별 필터
  - 기간별 필터

#### 상호작용
- **행 클릭** → 캠프 상세 페이지로 이동 (`/admin/camps/:id`)

---

## 3. 캠프 상세 화면 (`/admin/camps/:id`)

### 목표
한 캠프에 대해 "운영 전반" 한곳에서 보기

### 화면 구성

#### 상단 정보 요약 카드
- **캠프 기본정보**
  - 캠프명, 유형, 클라이언트, 기간, 상태
  - 수정 버튼
- **메트릭 요약**
  - 멘티 수 (`CampMentees` 개수)
  - 평균 출석률 (계산 필요)
  - 과제 제출률 (주차별 간략 그래프)
  - 피드백 완료율 (계산 필요)

#### 탭 구조

##### 탭 1: 세션/주차 (`/admin/camps/:id/sessions`)
- **주차별 세션 리스트 (테이블)**
  - 컬럼: 주차, 날짜/시간, 주제, 모드(온/오프), 장소/링크, 과제명
  - 각 행 클릭 시 → 세션 상세 화면
- **세션 추가 버튼**
  - 새 세션 생성 모달/페이지

##### 탭 2: 멘티 (`/admin/camps/:id/mentees`)
- **멘티 리스트 (테이블)**
  - 컬럼: 멘티 이름, 학교/회사, 출석률, 과제 제출률, 최종 결과, 메모
  - 멘티 클릭 시 → 멘티 상세 화면
- **멘티 추가 버튼**
  - 기존 멘티 선택 또는 새 멘티 등록

##### 탭 3: 과제/피드백 (`/admin/camps/:id/assignments`)
- **주차별 카드 레이아웃**
  - 각 카드: "1주차 과제명 + 제출률 + 피드백 완료률"
  - 카드 클릭 시 → 해당 주차 과제 관리 화면 (`/admin/camps/:id/assignments/:week`)
- **과제 추가 버튼**
  - 새 과제 생성 모달/페이지

##### 탭 4: 공지/멘트 로그 (`/admin/camps/:id/announcements`)
- **공지/멘트 히스토리 리스트**
  - 컬럼: 일시, 유형(D-1, 과제 리마인드, 수료 안내 등), 내용 미리보기, 발송 채널
  - 각 행 클릭 시 → 상세 내용 모달
- **공지 생성 버튼**
  - 새 공지 작성 모달/페이지

---

## 4. 세션(주차) 상세 화면 (`/admin/camps/:campId/sessions/:sessionId`)

### 목표
"오늘 강의"에 필요한 운영 정보 + 과제 상태를 한 번에 확인

### 화면 구성

#### 상단: 세션 기본정보 카드
- 주차, 제목, 날짜/시간, 장소/링크, 과제명
- 수정 버튼

#### 블록 1: 멘티 출석 리스트
- **체크박스 형태로 출석/지각/결석 표시**
  - 멘티 이름, 출석 상태 (출석 / 지각 / 결석), 비고
  - 일괄 저장 버튼
- **참고**: 출석 정보는 별도 테이블(`Attendance`)이 필요할 수 있음 (현재 DB 구조에는 미포함)

#### 블록 2: 과제 제출 현황
- **멘티별 제출 상태 테이블**
  - 컬럼: 멘티 이름, 제출/미제출, 제출시간, 파일 링크
  - 파일 링크 클릭 시 → 새 탭에서 열기
- **필터**
  - 제출 상태(전체 / 제출 / 미제출)

#### 블록 3: 피드백 진행 현황
- **멘티별 피드백 상태 테이블**
  - 컬럼: 멘티 이름, 피드백 여부, 발송 여부, 발송 채널
  - 피드백 미작성인 경우 → "피드백 작성" 버튼
- **필터**
  - 피드백 상태(전체 / 미작성 / 작성완료 / 발송완료)

#### 블록 4: 공지/멘트
- **"D-1 공지 생성" 버튼**
  - 클릭 시 → 공지 생성 모달
  - 캠프 유형 + 주차 기준으로 템플릿 불러오기
  - Brown이 수정 후 → 발송/복사
- **발송 로그 표시**
  - 이 세션과 관련된 공지/멘트 리스트

---

## 5. 멘티 상세 화면 (`/admin/mentees/:id`)

### 목표
한 멘티의 "캠프 여정 기록"을 한눈에 확인

### 화면 구성

#### 상단 기본 정보 카드
- 이름, 학교/회사, 연락처(이메일, 전화번호)
- 참여 캠프 수 (`CampMentees` 개수)
- 유입경로 (`Mentees.enter_path`)
- 메모 (`Mentees.note`)
- 수정 버튼

#### 탭 구조

##### 탭 1: 캠프별 요약 (`/admin/mentees/:id/camps`)
- **참여한 캠프 리스트 (테이블)**
  - 컬럼: 캠프명, 유형, 기간, 출석률, 과제 제출률, 최종 결과
  - 각 행 클릭 시 → 해당 캠프 상세 화면

##### 탭 2: 주차별 과제/피드백 타임라인 (`/admin/mentees/:id/timeline`)
- **주차 순서대로 카드 레이아웃**
  - 각 카드:
    - 캠프명, 주차, 과제명
    - 제출 여부, 제출 링크, 점수(있다면)
    - 피드백 텍스트 미리보기 (있을 경우)
    - 피드백 발송 여부
  - 시간순 정렬 (최신순 또는 과거순 토글)

##### 탭 3: 멘티 메모 (`/admin/mentees/:id/notes`)
- **Brown이 직접 남긴 평가/추천 메모**
  - 메모 작성/수정 영역
  - 히스토리 표시 (선택사항)

---

## 6. 과제 관리 / 피드백 작성 화면 (`/admin/camps/:campId/assignments/:week`)

### 목표
NotebookLM + 피드백 프롬프트 워크플로우와 맞물리는 핵심 화면

### 화면 구성

#### 상단 필터 영역
- **캠프 선택** (현재 캠프로 고정되어 있을 수 있음)
- **주차 선택** (현재 주차로 고정되어 있을 수 있음)
- **제출 상태** 필터 (전체 / 제출 / 미제출)
- **피드백 상태** 필터 (전체 / 미생성 / 초안 / 확정)

#### 좌측: 멘티 리스트 영역
- **멘티별 제출/피드백 상태 리스트**
  - 컬럼:
    - 멘티 이름
    - 과제 제출 여부 및 파일 링크
    - AI 요약 존재 여부 (`Submissions.auto_summary` 유무)
    - 피드백 상태 (미생성 / 초안 / 확정)
  - 행 클릭 시 → 우측 패널에 해당 멘티 정보 표시

#### 우측 패널 (또는 모달): 멘티별 상세

##### 탭 1: 과제 요약 (`/admin/camps/:campId/assignments/:week/:menteeId/summary`)
- **과제 원문 링크**
  - `Submissions.file_url` 표시
  - 링크 클릭 시 → 새 탭에서 열기
- **AI 요약**
  - `Submissions.auto_summary` 표시
  - 요약이 없을 경우 → "AI 요약 생성" 버튼 (NotebookLM 연동)

##### 탭 2: 피드백 편집 (`/admin/camps/:campId/assignments/:week/:menteeId/feedback`)
- **피드백 편집 영역**
  - 텍스트 에디터 (Rich Text Editor 권장)
  - 현재 피드백 내용 표시 (`Feedbacks.feedback_text`)
- **"프롬프트 기반 피드백 자동 생성" 버튼**
  - 클릭 시 → AI 피드백 생성 (프롬프트 기반)
  - 생성된 텍스트를 편집 영역에 표시
- **피드백 작성 방식 선택**
  - 라디오 버튼: 직접 작성 / AI초안+수정 / 전체 자동생성
  - 선택한 값이 `Feedbacks.feedback_source`에 저장
- **액션 버튼**
  - "저장" (초안 저장)
  - "확정" (최종 확정)
  - "멘티에게 발송" 체크박스 + 발송 채널 선택
    - 발송 채널: 코멘토 / 카카오 단체방 / 이메일

##### 탭 3: 멘티 히스토리 (`/admin/camps/:campId/assignments/:week/:menteeId/history`)
- **이 멘티의 이전 주차 피드백 요약**
  - 주차별 카드: 주차, 과제명, 피드백 미리보기, 발송 여부
  - 클릭 시 → 해당 피드백 상세 보기

---

## 7. 캠프 유형 관리 화면 (`/admin/camp-types`) (선택)

### 목표
"캠프 유형은 내가 입력한 내용대로 분류"를 유지하면서도, 나중에 정리하고 싶을 때 사용

### 화면 구성

#### 상단: 기존 사용된 유형 리스트
- **자동 수집된 `type` 리스트**
  - 예: 직무부트캠프 / 진로부트캠프 / Co-Work / 재맞고 / 자율일정 / 직무특강...
  - 각 유형별 사용 횟수 표시
  - 각 유형별 사용된 캠프 목록 링크

#### 유형별 상세 설정
- **기본 주차 수** (`CampTypes.default_weeks`)
- **기본 과제 세트** (`CampTypes.default_assignments`)
  - `Assignments`와 연결
  - 주차별 과제 목록 표시 및 편집
- **기본 공지/멘트 템플릿 세트**
  - 주차별 공지 템플릿 목록 표시 및 편집

#### 유형 병합 기능
- **오타/변형 통합**
  - 예: "직무부트캠프", "직무 부트캠프" → 하나로 병합
  - 대표명 하나로 통일 (mapping 테이블로 관리)

#### 새로운 캠프 생성 시 연동
- 캠프 생성 폼에서:
  - `type`을 새로 입력하거나
  - 여기서 정의한 유형 중 하나 선택해서 "기본 세팅 끌어오기"
  - 기본 세팅: 주차 수, 과제 세트, 공지 템플릿 자동 적용

---

## 8. 공통 UI 컴포넌트 요구사항

### 자동완성 입력 필드 (캠프 유형)
- **기능**
  - 지금까지 사용된 유형 값 목록을 드롭다운으로 표시
  - 사용자가 입력하면 실시간으로 필터링
  - 새로운 문자열도 그대로 저장 가능
- **구현 방법**
  - `Camps.type`의 DISTINCT 값들을 조회하여 자동완성 목록 생성
  - Debounce 적용하여 성능 최적화

### 상태 배지 (Badge)
- 준비중: 회색
- 진행중: 파란색
- 종료: 초록색

### 필터/검색 바
- 모든 리스트 화면에 통일된 필터 UI 적용
- 필터 상태는 URL 쿼리 파라미터로 관리 (공유 가능)

### 데이터 테이블
- 페이지네이션 지원
- 정렬 기능 (컬럼 헤더 클릭)
- 행 선택 기능 (필요한 경우)

---

## 9. 라우팅 구조

```
/admin
  /dashboard                    # 대시보드
  /camps                        # 캠프 리스트
    /:id                        # 캠프 상세
      /sessions                 # 세션/주차 탭
      /mentees                  # 멘티 탭
      /assignments              # 과제/피드백 탭
        /:week                  # 주차별 과제 관리
      /announcements            # 공지/멘트 로그 탭
    /:campId/sessions/:sessionId  # 세션 상세
  /mentees                      # 멘티 리스트 (선택)
    /:id                        # 멘티 상세
      /camps                    # 캠프별 요약 탭
      /timeline                 # 타임라인 탭
      /notes                    # 메모 탭
  /camp-types                   # 캠프 유형 관리 (선택)
```

---

## 10. 구현 우선순위

### Phase 1 (필수)
1. 대시보드 화면
2. 캠프 리스트 화면
3. 캠프 상세 화면 (기본 정보 + 탭 구조)
4. 세션 상세 화면
5. 과제 관리 / 피드백 작성 화면

### Phase 2 (중요)
6. 멘티 상세 화면
7. 공지/멘트 로그 기능

### Phase 3 (옵션)
8. 캠프 유형 관리 화면
9. 멘티 리스트 화면 (별도 페이지)

